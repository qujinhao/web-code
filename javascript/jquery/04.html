<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
<table>
  <thead>
    <tr>
        <td><input type="checkbox"></td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><input type="checkbox"></td>
    </tr>
    <tr>
      <td><input type="checkbox"></td>
    </tr>
    <tr>
      <td><input type="checkbox"></td>
    </tr>
  </tbody>
</table>
<script src="../jquery-3.5.1/jquery-3.5.1.js"></script> 
<script>
        $('thead input').change(function(){
            var isChecked = $(this).prop('checked');
            $('tbody input').prop('checked', isChecked);
        })
        
    $('tbody input').change(function(){
        var allCount = $('tbody input').length;
        var checkCount = $('tbody input:checked').length;
        var isAllChecked = allCount === checkCount;
        $('thead input').prop('checked', isAllChecked);
        
    })
    </script>
</body>
</html>
